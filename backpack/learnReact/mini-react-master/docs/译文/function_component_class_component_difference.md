### 类组件和函数组件的区别

在回答此类问题时，我们能够想到的 类组件 和 函数组件的区别大体如下：

- 相同点
  - 都可以接收属性并且返回 React 元素
- 不同点
  - 编程思想不同：类组件需要创建实例，是基于面向对象的方式编程。而函数组件不需要创建实例，是基于函数式编程的思想
  - 内存占用：类组件需要创建并保存实例，会占用一定内存。函数组件不需要创建实例，可以节约内存
  - 捕获特性：函数组件具有值捕获特性
  - 可测试性：函数式组件更方便编写单元测试
  - 状态：类组件有自己的实例，可以定义状态，而且可以修改状态更新组件，函数式组件以前没有状态，现在可以使用 useState 使用状态
  - 生命周期：类组件有自己完整的生命周期，函数式组件以前没有生命周期，现在可以使用 useEffect 实现类似生命周期的逻辑
  - 逻辑复用：类组件可以通过继承实现逻辑的复用，函数组件可以通过自定义 hooks 实现逻辑复用
  - 跳过更新：类组件可以通过 shouldComponentUpdate 和 PureComponent 来跳过更新，而函数式组件可以使用 React.memo 来跳过更新
  - 发展前景：未来函数组件将会成为主流，因为它可以更好的屏蔽 this 问题、规范和复用逻辑、更好的适合时间切片和并发渲染
  - 类组件可以直接使用 ref 调用类实例方法，函数组件不可以直接使用，要用 forwardRef 与 useImperativeHandle 结合使用

### React 作者 Dan 认为的类组件和函数组件的最大区别

> 参考 https://overreacted.io/how-are-function-components-different-from-classes/
